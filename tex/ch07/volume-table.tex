\section{Tavola dei volumi}\label{sec:volumetable}
La {\it tavola dei volumi} seguente contiene tre colonne: la prima riporta il nome della
{\it tabella} che si considera; la seconda contiene il {\it volume stimato} della tabella; la terza
{\it descrive} come è stata calcolata la stima.

Ogni qual volta che si riporta il nome di una tabella in una {\it espressione matematica} si deve
intendere il {\it volume della tabella}.
%$\infty$
%$100\,000$
%$22.5\times{}Ricetta+\frac{2}{3}ModificaFase / or + ^2/_3ModificaFase - or + \sfrac{2}{3}ModificaFase \approx 500$

{\tabulinesep=3pt
\begin{longtabu} to \linewidth {|X[c,m]|X[c,m]|>{\raggedright}X[3,m]|}
\hline\rowfont\bfseries
Tabella         & Volume        & \centering Commento
\\ \hline \hline \hline \hline \hline % ----------------------------------------
\endhead
Sede            & \(25\)        & Ipotesi: la catena di ristorazione ha 25 sedi.
    \\ \hline % ----------------------------------------------------------------
Magazzino       & \(50\)        & Ogni sede ha in media 2 magazzini: \(2 \times Sede = 50\).
    \\ \hline % ----------------------------------------------------------------
Confezione      & \(5\,000\)    & Ogni magazzino ha in media 100 confezioni: \(100 \times Magazzino = 5\,000\).
    \\ \hline % ----------------------------------------------------------------
Ingrediente     & \(100\)       & Ipotesi: ci sono 100 ingredienti possibili.
    \\ \hline % ----------------------------------------------------------------
Cucina          & \(750\)       & \(Strumento \times Sede = 750\).
    \\ \hline % ----------------------------------------------------------------
Strumento       & \(40\)        & Ipotesi: ci sono 40 strumenti possibili.
    \\ \hline % ----------------------------------------------------------------
Funzione        & \(120\)       & Ogni strumento ha in media 3 funzioni: \(3 \times Strumento = 120\).
    \\ \hline % ----------------------------------------------------------------
Menu            & \(500\)       & Ogni sede ha applicato (nel tempo) in media 20 menu: \(20 \times Sede = 500\). In
                                   realtà il numero di menu cresce anche di molto nel tempo (dipende dalla frequenza
                                   con cui una sede cambia menu e dal tempo trascorso), ma 500 può essere
                                   un'approssimazione adeguata.
    \\ \hline % ----------------------------------------------------------------
Elenco          & \(10\,000\)   & Ogni menu elenca in media 20 ricette: \(20 \times Menu = 10\,000\).
    \\ \hline % ----------------------------------------------------------------
Ricetta         & \(200\)       & Ipotesi: il ricettario della catena di ristorazione è formato da 200 ricette.
    \\ \hline % ----------------------------------------------------------------
Fase            & \(5\,000\)    & Ogni ricetta ha in media 22 o 23 fasi; inoltre in media
                                  \(\sfrac{2}{3}\) delle istanze di ModificaFase richiedono
                                  l'aggiunta di una nuova fase: \(22.5 \times Ricetta + \frac{2}{3} ModificaFase = 5\,000\).
    \\ \hline % ----------------------------------------------------------------
SequenzaFasi    & \(7\,500\)    & Ogni fase ha in media una o due fasi che la precedono: \(1.5 \times Fase = 7\,500\).
    \\ \hline % ----------------------------------------------------------------
Piatto          & \specialcell{\(\infty\)\\\((\approx 300\,000)\)}
                                & Ogni comanda ordina in media 3 piatti: \(3 \times Comanda = 300\,000\). Si
                                  veda anche la nota a fine tavola (\(\infty\)).
    \\ \hline % ----------------------------------------------------------------
Modifica        & \specialcell{\(\infty\)\\\((\approx 15\,000)\)}
                                & In media {\it meno} di un piatto su 20 applica una variazione, ma
                                  su alcuni piatti viene applicata anche più di una
                                  variazione (max. 3): \(\approx 0.05 \times Piatto = 15\,000\). Si
                                  veda anche la nota a fine tavola (\(\infty\)).
    \\ \hline % ----------------------------------------------------------------
Variazione      & \(500\)       & Ogni ricetta ha in media due variazioni possibili; inoltre
                                  si ipotizza che gli utenti della piattaforma web rilascino
                                  100 suggerimenti: \(2 \times Ricetta + 100 = 500\).
    \\ \hline % ----------------------------------------------------------------
ModificaFase    & \(750\)       & Ogni variazione in media richiede la modifica di una o due
                                  fasi: \(1.5 \times Variazione\).
    \\ \hline % ----------------------------------------------------------------
Comanda         & \specialcell{\(\infty\)\\\((\approx 100\,000)\)}
                                & Ipotesi: ogni giorno la metà dei tavoli di una sede sono occupati (considerando
                                  anche che la sede può fare più di un turno); ognuno di questi tavoli,
                                  in quel turno, invia una o due comande; inoltre si ipotizza che ogni
                                  giorno ogni sede riceva 5 comande take-away:
                                  \(\sfrac{Tavolo}{2} \times 1.5 \approx 550 + 5 \times Sede \approx 675/giorno\). Per
                                  il volume della tabella approssimiamo quindi ad un numero molto alto: \(\approx 100\,000\). Si
                                  veda anche la nota a fine tavola (\(\infty\)).
    \\ \hline % ----------------------------------------------------------------
% TODO: da tavolo in poi
\end{longtabu} }
\noindent{\bf NOTA (\(\infty\)):}

Per alcune tabelle ({\tt Comanda}, {\tt Piatto}, ecc\ldots) al posto del volume è stato
inserito il simbolo di infinito (\(\infty\)) e, tra parentesi, un'approssimazione del volume. Per
queste tabelle non è possibile fare una stima veramente precisa del volume in quanto dipendente
da fattori molto aleatori (come il tempo).

Ad esempio il numero di comande (e quindi anche dei piatti ordinati) aumenta notevolmente
via via che il tempo passa: dopo un intero anno il volume della tabella {\tt Comanda} può essere
anche di {\it centinaia di migliaia di record}; dopo 5 anni il volume della tabella {\tt Piatto} può
essere anche di {\it qualche milione di record}. Ovviamente non ha senso mantenere per sempre (o
molto a lungo) le informazioni sulle comande e sui piatti ordinati e l'amministratore
dovrebbe occuparsi di ripulire il database da informazioni non più utili\footnote{La base di %
dati di questo progetto non contiene {\it funzionalità di back-end} per la pulizia di informazioni %
ritenute non più importanti: l'eventuale pulizia del database, se desiderata, è lasciata %
all'amministratore che dovrà {\it intervenire manualmente}.}. Stimiamo però comunque
valori molto alti per il volume di queste tabelle, così da tenere in considerazione il
caso in cui l'amministratore non provveda molto frequentemente alla pulizia del database. Il
valore così stimato è inserito, nella tavola, tra parentesi tonde sotto il simbolo \(\infty\). Questo
valore sarà quello utilizzato per tutte le stime di qui in poi (ad esempio, nelle tavole
degli accessi per le operazioni).
